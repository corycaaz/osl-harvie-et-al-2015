---
title: "OSL One-way ANOVA in R Using Data from Harvie et al. (2015)"
author: "Cory J. Cascalheira"
date: "November 19, 2018"
output:
  html_document:
    toc: true
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "~/GitHub/osl-harvie-et-al-2015/src")
```

# Open Stats Lab
___
Kevin P. McIntyre developed this amazing resource for students of psychology. Check out [Open Stats Lab](https://sites.trinity.edu/osl/) for a collection of all activities.

Each activity includes an article from *Psychological Science*, a data set, and an activity to complete in SPSS. However, if you are an open source fanatic, you could also complete the activity in [JASP](https://jasp-stats.org/). For tips on how to use JASP, check out [this resource](https://osf.io/t56kg/) created by Buchanan, Hopke, and Donaldson (2018).

I prefer to get my hands deep into the data. Dr. McIntyre does not *yet* offer an R activity to accompany the work of [Harvie et al. (2015)](https://journals.sagepub.com/stoken/default+domain/9QEFMbw9aRXb2pCVw9Kw/full), so here is one possible solution written in R.

# Analysis
___
I will perform assumption checks for each test prior to running it. We already know that the data meet all assumptions, otherwise the authors would have used a different analytic approach. However, checking the assumptions is helpful because:

1. reproducibility and accuracy can be verified; and
2. if you are a student, then you should form the habit of testing assumptions.

This analysis will follow the data science workflow advocated by [Garrett Grolemund and Hadley Wickham](https://r4ds.had.co.nz/introduction.html). First, we will set-up our session and import the data. Then, we must clean the data. Next, we will transform, model, and visualize the data to understand it. Finally, we will communicate our findings.

## Import
___
Let's load the packages necessary for this analysis into our workspace.

```{r message = FALSE}
library(tidyverse)
library(psych)
library(car)
```

We can import the dataset using a relative path because our working directory is set.

```{r message = FALSE}
harvie <- read_csv("../data/Harvie et al. 2015.csv")
```

## Clean
___
This dataset is already tidy. That is, each row contains one observation and each column contains one variable, intersecting at exactly one value. 

## Understand
___
The **one-way repeated measures analysis of variance** compares the means of three of more groups in which each group, or participant, tests all conditions. Participants are not separated into control versus treatment groups. The present study is a within-subjects design because the investigators test three levels of visual feedback on all participants. [Each participant receives every condition](https://osf.io/z9pur/).

The null and alternative hypotheses are:

$$H_0: \text{the means of all related groups are equal} \\ H_1: \text{the mean of at least one related group is different}$$

The one-way repeated measures ANOVA has five assumptions. Two are met via experimental design.

1. **Continuous** dependent variable at the ratio or interval level.
2. **Categorical** independent variable that is a factor of three or more levels.

The remaining three assumptions are met after data collection.

3. **No significant outliers** in any of the measurements of the participants. Outliers skew data and affect normality. One-way ANOVA is valid for distributions skewed in the same direction (e.g., distributions of each level positively skewed.). It is assessed with boxplots. 
4. **Approximately normal distribution** of the independent variable for each level of the factor. Since the one-way ANOVA is robust, mild violations of normality can be tolerated if the number of observations is uniform across levels. The assumption is assessed with the Shapiro-Wilk test and density curves, or histograms.
5. **Sphericity**, which states that the differences in variances between all pairs of groups (i.e., dependent variable) are equal. [This assumption](https://biostats.w.uib.no/test-for-sphericity-mauchly-test/) *must* be met. It is assessed with Mauchley's test.

### Descriptive Statistics

Summarize the three feedback conditions.

```{r}
(harvie_desc <- harvie %>%
  select(ends_with("Feedback")) %>%
  describe()
)
```

Movement-evoked pain occured earlier when participants perceived overstated visual feedback (*M* = 0.93, *SD* = 0.12) than when the visual information was understated (*M* = 1.07, *SD* = 0.14).

Is this difference between means statistically significant?

### Repeated Measures ANOVA



## Communicate
___

# Acknowledgements
___
I am thankful for my advisor, Dr. Brandt A. Smith for introducing me to R, JASP, and OSL. The discipline of psychology is advocating for preregistered, open materials. His encouragement to utilize open data and open source software has positioned me in the middle of the reproducible movement.

I would still be clicking checkboxes and dropdowns to analyze data if it were not for [DataCamp](https://www.datacamp.com), [Rose Maier](https://rstudio-pubs-static.s3.amazonaws.com/65059_586f394d8eb84f84b1baaf56ffb6b47f.html), and [Alboukadel Kassambara](http://www.sthda.com/english/wiki/r-software).

## Dependencies
This activity was completed using RStudio.

```{r}
devtools::session_info()
```